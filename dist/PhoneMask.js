'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var PhoneMask=function(){function a(b){_classCallCheck(this,a),this.result='',this.mask=b.mask||'+7 (9xx) xxx xx xx',this.inputs=b.nodes?b.nodes:document.querySelectorAll('.k1-phone-input'),this.init()}return _createClass(a,[{key:'init',value:function h(){var a=!0,b=!1,c=void 0;try{for(var d,e=this.inputs[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value,g=f;'input'!==f.type&&(g=f.querySelector('input'));g.value;g.value=this.mask.replace(/x/gi,'_'),g.addEventListener('focus',function(a){var b=a.target,c=b.value,d=c.indexOf('_');b.setSelectionRange(d,d)}),g.addEventListener('input',this.setValue.bind(this))}}catch(a){b=!0,c=a}finally{try{!a&&e.return&&e.return()}finally{if(b)throw c}}}/**
   * main func
   * @param data
   * @param target
   */},{key:'setValue',value:function g(a){var b=a.data,c=a.target;this.result='';var d=c.value;for(var h in this.mask)this.result+='x'===this.mask[h]?d[h]&&d[h].match(/\d/)?d[h]:'_':this.mask[h];if(c.value=this.result,b)this.caretPosition=this.result.indexOf('_');else{var e=this.result.match(/\d/g),f=e[e.length-1];this.caretPosition=this.result.lastIndexOf(f)+1}c.setSelectionRange(this.caretPosition,this.caretPosition)}}]),a}();
//# sourceMappingURL=PhoneMask.js.map